document['addEventListener']('DOMContentLoaded',function(){if(!Notification){alert('Desktop\x20notifications\x20not\x20available\x20in\x20your\x20browser.');return;}if(Notification['permission']!=='granted')Notification['requestPermission']();});function activateExpireDesktopNotif(_0x593c3e){if(Notification['permission']!=='granted')Notification['requestPermission']();else{var _0x5b7e24=new Notification('Expiring\x20TryHackMe\x20Machine!',{'icon':'https://assets.tryhackme.com/img/logo/thm_white_graybg_rounded.png','body':'Your\x20machine\x20is\x20about\x20to\x20expire!\x20Extend\x20it\x20to\x20stop\x20it\x20from\x20terminating..'});_0x5b7e24['onclick']=function(){window['open'](_0x593c3e);};}}let expireTimeout,terminateTimeout;function startExpireCheck(_0x330dc0){removeExpireCheck();const _0x2b6a2b=Math['abs'](convertUTCDateToLocalDate(new Date(_0x330dc0))-new Date()),_0x58dfae=_0x2b6a2b-0x5*0x3c*0x3e8;expireTimeout=window['setTimeout'](function(){activateExpireAlert();},_0x58dfae),terminateTimeout=window['setTimeout'](function(){activateTerminateAlert();},_0x2b6a2b);}function activateExpireAlert(_0x22a133){$('#expireSoon')['modal']('show');let _0x38de5d='';if(_0x22a133=='room')_0x38de5d=window['location']['protocol']+'//'+window['location']['hostname']+'/room/'+roomCode;else _0x22a133=='my-machine'&&(_0x38de5d=window['location']['protocol']+'//'+window['location']['hostname']+'/my-machine');activateExpireDesktopNotif(_0x38de5d);}function activateTerminateAlert(_0x2a1750){$('#terminatedMachine')['modal']('show'),_0x2a1750=='room'&&(ipEl['style']['display']='none',clearVmBoxes()),clearInterval(intervalId);}function removeExpireCheck(){window['clearTimeout'](expireTimeout),window['clearTimeout'](terminateTimeout);}let intervalId;function startTimer(_0x3475ff,_0x4b7e02,_0x145258){let _0x116ad3=parseInt(_0x3475ff),_0x4f8a75=_0x116ad3,_0x44e07a,_0x53979b,_0x59b8d3;intervalId=setInterval(function(){_0x44e07a=parseInt(_0x4f8a75/0x3c,0xa)%0x3c,_0x53979b=parseInt(_0x4f8a75%0x3c,0xa),_0x59b8d3=parseInt(_0x4f8a75/0xe10,0xa),_0x44e07a=_0x44e07a<0xa?'0'+_0x44e07a:_0x44e07a,_0x53979b=_0x53979b<0xa?'0'+_0x53979b:_0x53979b,_0x59b8d3=_0x59b8d3<0xa?'0'+_0x59b8d3:_0x59b8d3;let _0x4b0c77=parseInt(_0x59b8d3)['toFixed'](0x0)+'h\x20'+_0x44e07a+'m\x20'+_0x53979b+'s';_0x59b8d3==0x0&&(_0x4b0c77=_0x44e07a+'m\x20'+_0x53979b+'s'),_0x4b7e02['textContent']=_0x4b0c77,_0x59b8d3==0x0&&_0x44e07a==0x5&&_0x53979b==0x0&&activateExpireAlert(_0x145258),_0x59b8d3==0x0&&_0x44e07a==0x0&&_0x53979b==0x0&&activateTerminateAlert(_0x145258),--_0x4f8a75<0x0&&(_0x4f8a75=_0x116ad3);},0x3e8);}let IPIntervalId;function startIPTimer(_0x186ff3,_0x5182df,_0x2e662e){let _0x35c21e=parseInt(_0x5182df),_0x3f3bb6=_0x35c21e,_0x18b3ad,_0x1dc79a,_0x5382e4;IPIntervalId=setInterval(function(){_0x18b3ad=parseInt(_0x3f3bb6/0x3c,0xa)%0x3c,_0x1dc79a=parseInt(_0x3f3bb6%0x3c,0xa),_0x5382e4=parseInt(_0x3f3bb6/0xe10,0xa),_0x18b3ad=_0x18b3ad<0xa?'0'+_0x18b3ad:_0x18b3ad,_0x1dc79a=_0x1dc79a<0xa?'0'+_0x1dc79a:_0x1dc79a,_0x5382e4=_0x5382e4<0xa?'0'+_0x5382e4:_0x5382e4;let _0x502801=parseInt(_0x5382e4)['toFixed'](0x0)+'h\x20'+_0x18b3ad+'m\x20'+_0x1dc79a+'s';_0x5382e4==0x0&&(_0x502801=_0x18b3ad+'m\x20'+_0x1dc79a+'s'),_0x5382e4==0x0&&_0x18b3ad==0x0&&(_0x502801=_0x1dc79a+'s'),_0x186ff3['innerHTML']='Shown\x20in\x20'+_0x502801,_0x5382e4==0x0&&_0x18b3ad==0x0&&_0x1dc79a==0x0&&(_0x2e662e=='room'?checkForRunningInstances({'refreshWebBasedTab':![]}):getMachineState(),clearInterval(IPIntervalId)),--_0x3f3bb6<0x0&&(_0x3f3bb6=_0x35c21e);},0x3e8);}