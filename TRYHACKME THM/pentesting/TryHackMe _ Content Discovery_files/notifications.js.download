function readNotifications(){return $('#notification-dot')['fadeOut'](0x1f4),new Promise(function(_0xc91cd4,_0x1045a8){$['post']('/notifications/read');});}function getNotifications(){return new Promise(function(_0x56b560,_0x1feedf){$['getJSON']('/notifications/get',async function(_0x21602a){return _0x56b560(_0x21602a);});});}function getUnreadMessages(){return new Promise(function(_0x27eb2a,_0x53c737){$['getJSON']('/message/unseen',async function(_0x41c064){return _0x27eb2a(_0x41c064);});});}async function hasUnreadNotif(){let _0x5161e9=![];return await $['getJSON']('/notifications/has-unseen',async function(_0x37304d){_0x5161e9=_0x37304d['hasUnread'];}),_0x5161e9;}const notificationEl=document['querySelector']('#nav-notifications');async function populateNotifications(){const _0x265c7d=await getNotifications(),_0x48b988=await getUnreadMessages();_0x48b988['unseen']['length']>0x0&&_0x265c7d['unshift']({'created':_0x48b988['unseen'][0x0]['inserted'],'description':'You\x20have\x20'+_0x48b988['unseen']['length']+'\x20<a\x20href=\x22/messages\x22>unread\x20conversation(s)</a>.','icon':'message','read':![]});if(_0x265c7d['length']>0x0){notificationEl['innerHTML']='',notificationEl['style']['padding']='0';for(const _0x4bb468 of _0x265c7d){let _0x53b904;if(_0x4bb468['icon']=='default'||_0x4bb468['icon']['length']==0x0)_0x53b904='<i\x20class=\x22fad\x20fa-info-square\x20small\x20text-blue\x20size-14\x22></i>';else{if(_0x4bb468['icon']=='congrats')_0x53b904='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/confetti.png\x22>';else _0x4bb468['icon']=='message'?_0x53b904='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/message.png\x22>':_0x53b904='<img\x20alt=\x22icon\x22\x20class=\x22avatar-tiny\x22\x20src=\x22'+_0x4bb468['icon']+'\x22>';}let _0x31427d='<div\x20class=\x22row\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-auto\x20text-center\x22>'+_0x53b904+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col\x20p-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>'+_0x4bb468['description']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27size-12\x20faded\x20mt-1\x27>'+prettifyShd(_0x4bb468['created'])+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';notificationEl['innerHTML']+=_0x31427d;}}else notificationEl['innerHTML']='<div\x20class=\x22text-center\x20mt-2\x20mb-2\x22>You\x20have\x20no\x20notifications</div>';}async function initNotifications(){const _0x7e12e8=await hasUnreadNotif();_0x7e12e8==!![]?(document['querySelector']('#notification-dot')['style']['display']='block',document['querySelector']('#notification-icon')['className']+='\x20animated\x20swing'):readNotificationsReq=!![];}let readNotificationsReq=![],areNotifPopulated=![];const notifButEl=document['querySelector']('#notification-btn');notifButEl['addEventListener']('click',function(){!readNotificationsReq&&(readNotificationsReq=!![],readNotifications()),!areNotifPopulated&&(populateNotifications(),areNotifPopulated=!![]);}),notifButEl['addEventListener']('mouseenter',function(){!areNotifPopulated&&(populateNotifications(),areNotifPopulated=!![]);}),$(document)['ready'](async function(){initNotifications();});